<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartBus Buddy - AI Commute Copilot</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google GenAI SDK Import Map -->
    <script type="importmap">
    {
      "imports": {
        "@google/genai": "https://esm.run/@google/genai"
      }
    }
    </script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .glass-nav {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        /* Loading Animation */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #2563EB;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 1s linear infinite; /* Safari */
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-gray-900 bg-white">

    <!-- 1Ô∏è‚É£ Navbar -->
    <nav class="fixed w-full z-50 glass-nav border-b border-gray-100 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2 text-blue-600">
                    <i data-lucide="bus" class="h-8 w-8"></i>
                    <span class="font-bold text-xl tracking-tight text-gray-900">SmartBus Buddy</span>
                </div>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#home" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Home</a>
                    <a href="#problem" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Problem</a>
                    <a href="#solution" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Solution</a>
                    <a href="#demo" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Demo</a>
                    <a href="#impact" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Impact</a>
                    <a href="#contact" class="text-gray-600 hover:text-blue-600 font-medium transition-colors">Contact</a>
                    <a href="#demo" class="bg-blue-600 text-white px-5 py-2 rounded-full font-medium hover:bg-blue-700 transition-all shadow-md hover:shadow-lg">Try Demo</a>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-btn" class="md:hidden text-gray-600 hover:text-blue-600 focus:outline-none">
                    <i data-lucide="menu" class="h-6 w-6"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 absolute w-full">
            <div class="px-4 pt-2 pb-4 space-y-1">
                <a href="#home" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Home</a>
                <a href="#problem" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Problem</a>
                <a href="#solution" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Solution</a>
                <a href="#demo" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Demo</a>
                <a href="#impact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Impact</a>
                <a href="#contact" class="block px-3 py-2 rounded-md text-base font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50">Contact</a>
            </div>
        </div>
    </nav>

    <!-- 2Ô∏è‚É£ Hero Section -->
    <section id="home" class="relative pt-24 pb-20 lg:pt-32 lg:pb-32 overflow-hidden bg-gradient-to-b from-blue-50 to-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex flex-col lg:flex-row items-center gap-12 lg:gap-24">
                
                <!-- Text Content -->
                <div class="w-full lg:w-1/2 text-center lg:text-left">
                    <div class="inline-block px-4 py-1.5 mb-6 rounded-full bg-blue-100 text-blue-700 text-sm font-semibold tracking-wide">
                        üöÄ AI-Powered Smart City Solution
                    </div>
                    <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 leading-tight mb-6">
                        Smarter buses. <br />
                        <span class="text-blue-600">Shorter waits.</span> <br />
                        Stress-free travel.
                    </h1>
                    <p class="text-lg text-gray-600 mb-8 max-w-2xl mx-auto lg:mx-0">
                        An AI-powered commute copilot that predicts bus arrivals, crowd levels, and delays to optimize your daily journey.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                        <a href="#demo" class="inline-flex items-center justify-center px-8 py-3.5 rounded-lg text-white bg-blue-600 hover:bg-blue-700 shadow-lg hover:shadow-blue-500/30 transition-all font-medium">
                            View Demo <i data-lucide="arrow-right" class="ml-2 h-5 w-5"></i>
                        </a>
                        <a href="#solution" class="inline-flex items-center justify-center px-8 py-3.5 border border-gray-200 rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-all font-medium">
                            How It Works
                        </a>
                    </div>
                </div>

                <!-- Mobile Mockup -->
                <div class="w-full lg:w-1/2 flex justify-center lg:justify-end relative">
                    <!-- Phone Frame -->
                    <div class="relative mx-auto border-gray-800 bg-gray-800 border-[14px] rounded-[2.5rem] h-[600px] w-[300px] shadow-2xl z-20">
                        <div class="h-[32px] w-[3px] bg-gray-800 absolute -left-[17px] top-[72px] rounded-l-lg"></div>
                        <div class="h-[46px] w-[3px] bg-gray-800 absolute -left-[17px] top-[124px] rounded-l-lg"></div>
                        <div class="h-[46px] w-[3px] bg-gray-800 absolute -right-[17px] top-[142px] rounded-r-lg"></div>
                        <div class="rounded-[2rem] overflow-hidden w-full h-full bg-white flex flex-col">
                            
                            <!-- App Header -->
                            <div class="bg-blue-600 p-6 pt-10 text-white shadow-md z-10">
                                <div class="flex justify-between items-center mb-4">
                                    <span class="font-bold text-sm bg-blue-700 px-3 py-1 rounded-full">Home ‚Üí College</span>
                                    <i data-lucide="navigation" class="h-5 w-5"></i>
                                </div>
                                <div class="text-3xl font-bold mb-1">12:45 PM</div>
                                <div class="text-blue-100 text-xs">Next bus in 4 mins</div>
                            </div>

                            <!-- App Body -->
                            <div class="p-4 space-y-4 bg-gray-50 flex-1 overflow-hidden">
                                <!-- Card 1 -->
                                <div class="bg-white p-4 rounded-xl shadow-sm border border-blue-100 transform translate-y-2">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="bg-blue-600 text-white px-2 py-1 rounded font-bold text-xs">Bus 402</div>
                                        <span class="text-green-600 bg-green-50 px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider">Best Pick</span>
                                    </div>
                                    <div class="flex items-center gap-3 text-sm text-gray-600 mb-3">
                                        <div class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i> 4 min</div>
                                        <div class="flex items-center text-green-600"><i data-lucide="users" class="w-3 h-3 mr-1"></i> Low Crowd</div>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1.5">
                                        <div class="bg-green-500 h-1.5 rounded-full" style="width: 25%"></div>
                                    </div>
                                </div>

                                <!-- Card 2 -->
                                <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 opacity-60">
                                    <div class="flex justify-between items-start mb-2">
                                        <div class="bg-gray-600 text-white px-2 py-1 rounded font-bold text-xs">Bus 118</div>
                                    </div>
                                    <div class="flex items-center gap-3 text-sm text-gray-600 mb-3">
                                        <div class="flex items-center"><i data-lucide="clock" class="w-3 h-3 mr-1"></i> 12 min</div>
                                        <div class="flex items-center text-yellow-600"><i data-lucide="users" class="w-3 h-3 mr-1"></i> Med Crowd</div>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-1.5">
                                        <div class="bg-yellow-500 h-1.5 rounded-full" style="width: 60%"></div>
                                    </div>
                                </div>
                                
                                <!-- Map placeholder -->
                                <div class="w-full h-32 bg-blue-50 border-2 border-dashed border-blue-200 rounded-xl flex items-center justify-center">
                                    <span class="text-blue-400 text-xs font-medium">Live Map View</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Decorative blobs -->
                    <div class="absolute top-1/2 right-0 transform translate-x-1/4 -translate-y-1/2 w-72 h-72 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse z-0"></div>
                    <div class="absolute bottom-0 left-0 transform -translate-x-1/4 translate-y-1/4 w-72 h-72 bg-green-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 z-0"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- 3Ô∏è‚É£ Problem Section -->
    <section id="problem" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">The Daily Bus Struggle</h2>
                <p class="text-lg text-gray-600 max-w-2xl mx-auto">
                    Millions of commuters face these challenges every single day.
                </p>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Item 1 -->
                <div class="group bg-gray-50 rounded-2xl p-8 hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-100 text-center">
                    <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300">‚è≥</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Uncertain Waits</h3>
                    <p class="text-gray-600 leading-relaxed">No accurate arrival times lead to anxiety and rush.</p>
                </div>
                <!-- Item 2 -->
                <div class="group bg-gray-50 rounded-2xl p-8 hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-100 text-center">
                    <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300">üò´</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Unexpected Delays</h3>
                    <p class="text-gray-600 leading-relaxed">Traffic jams ruin your schedule without warning.</p>
                </div>
                <!-- Item 3 -->
                <div class="group bg-gray-50 rounded-2xl p-8 hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-100 text-center">
                    <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300">ü•µ</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Overcrowding</h3>
                    <p class="text-gray-600 leading-relaxed">No idea if you will get a seat or be squeezed in.</p>
                </div>
                <!-- Item 4 -->
                <div class="group bg-gray-50 rounded-2xl p-8 hover:bg-white hover:shadow-xl transition-all duration-300 border border-gray-100 text-center">
                    <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform duration-300">üìö</div>
                    <h3 class="text-xl font-bold text-gray-900 mb-3">Wasted Time</h3>
                    <p class="text-gray-600 leading-relaxed">Missed classes and lost productivity at bus stops.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 4Ô∏è‚É£ Solution Section -->
    <section id="solution" class="py-24 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <span class="text-blue-600 font-semibold tracking-wide uppercase text-sm">Our Solution</span>
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mt-2">Meet SmartBus Buddy</h2>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Feature 1 -->
                <div class="flex items-start p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="flex-shrink-0 p-3 bg-blue-50 text-blue-600 rounded-lg mr-4">
                        <i data-lucide="clock" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Real-time ETA Prediction</h3>
                        <p class="text-gray-600">Know exactly when your bus arrives with GPS-backed precision.</p>
                    </div>
                </div>
                <!-- Feature 2 -->
                <div class="flex items-start p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="flex-shrink-0 p-3 bg-green-50 text-green-600 rounded-lg mr-4">
                        <i data-lucide="users" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Crowd Level Estimates</h3>
                        <p class="text-gray-600">See how full the bus is before it arrives. Grab a seat, not a handle.</p>
                    </div>
                </div>
                <!-- Feature 3 -->
                <div class="flex items-start p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="flex-shrink-0 p-3 bg-yellow-50 text-yellow-600 rounded-lg mr-4">
                        <i data-lucide="bell" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Automatic Delay Alerts</h3>
                        <p class="text-gray-600">Instant notifications if your bus is stuck in traffic or rerouted.</p>
                    </div>
                </div>
                <!-- Feature 4 -->
                <div class="flex items-start p-6 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow border border-gray-100">
                    <div class="flex-shrink-0 p-3 bg-purple-50 text-purple-600 rounded-lg mr-4">
                        <i data-lucide="brain-circuit" class="w-8 h-8"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900 mb-2">Smart Bus Recommendations</h3>
                        <p class="text-gray-600">AI suggests alternative routes or timings to optimize your commute.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5Ô∏è‚É£ How It Works Section -->
    <section class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-16">How It Works</h2>
            
            <div class="relative flex flex-col md:flex-row justify-between items-center gap-12">
                <!-- Step 1 -->
                <div class="flex flex-col items-center text-center max-w-xs relative z-10">
                    <div class="w-20 h-20 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-6 shadow-inner">
                        <i data-lucide="radio" class="w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">1. Live Bus Data</h3>
                    <p class="text-gray-600">Buses send real-time GPS and passenger count data to our cloud.</p>
                </div>

                <!-- Arrow 1 -->
                <div class="hidden md:block absolute left-[25%] top-10 text-gray-300">
                    <i data-lucide="arrow-right" class="w-12 h-12"></i>
                </div>

                <!-- Step 2 -->
                <div class="flex flex-col items-center text-center max-w-xs relative z-10">
                    <div class="w-20 h-20 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mb-6 shadow-inner">
                        <i data-lucide="cpu" class="w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">2. AI Brain</h3>
                    <p class="text-gray-600">Our AI analyzes traffic patterns and historical data to predict accurate ETAs.</p>
                </div>

                <!-- Arrow 2 -->
                <div class="hidden md:block absolute right-[25%] top-10 text-gray-300">
                    <i data-lucide="arrow-right" class="w-12 h-12"></i>
                </div>

                <!-- Step 3 -->
                <div class="flex flex-col items-center text-center max-w-xs relative z-10">
                    <div class="w-20 h-20 bg-green-100 text-green-600 rounded-full flex items-center justify-center mb-6 shadow-inner">
                        <i data-lucide="smartphone" class="w-10 h-10"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">3. Your Buddy</h3>
                    <p class="text-gray-600">You get instant alerts and smart recommendations on your phone.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 6Ô∏è‚É£ Interactive Demo Simulation -->
    <section id="demo" class="py-24 bg-blue-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10">
                <h2 class="text-3xl font-bold text-gray-900">Try the Prototype</h2>
                <p class="text-gray-600 mt-2">Simulate a live commute scenario.</p>
            </div>

            <!-- Interactive Card -->
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-200">
                <!-- Input Area -->
                <div class="p-6 md:p-8 bg-blue-600">
                    <div class="flex flex-col md:flex-row gap-4 items-end">
                        <div class="flex-1 w-full">
                            <label class="block text-blue-100 text-sm font-medium mb-2">Where are you going?</label>
                            <div class="relative">
                                <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">
                                    <i data-lucide="map-pin" class="w-5 h-5"></i>
                                </div>
                                <select id="destination-select" class="w-full pl-10 pr-4 py-3 rounded-lg bg-white text-gray-900 focus:ring-2 focus:ring-blue-300 outline-none appearance-none cursor-pointer">
                                    <option value="College">City College Campus</option>
                                    <option value="Office">Tech Park (Office)</option>
                                    <option value="Market">Central Market</option>
                                </select>
                            </div>
                        </div>
                        <button id="find-bus-btn" class="w-full md:w-auto px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg shadow-lg transition-colors flex items-center justify-center gap-2">
                            Find Best Bus
                        </button>
                    </div>
                </div>

                <!-- Results Area -->
                <div class="p-6 md:p-8 min-h-[300px] bg-gray-50" id="results-area">
                    <!-- Initial State -->
                    <div id="initial-state" class="text-center text-gray-500 py-12">
                        <i data-lucide="search" class="w-12 h-12 mx-auto mb-3 opacity-20"></i>
                        <p>Select a destination and click Find Best Bus</p>
                    </div>

                    <!-- Loading State -->
                    <div id="loading-state" class="hidden space-y-4">
                        <div class="h-24 bg-gray-200 rounded-xl animate-pulse"></div>
                        <div class="h-24 bg-gray-200 rounded-xl animate-pulse"></div>
                    </div>

                    <!-- Bus List Container -->
                    <div id="bus-list" class="hidden space-y-6">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-gray-800 text-lg">Live Recommendations</h3>
                            <span class="text-xs text-gray-500">Updated just now</span>
                        </div>
                        <div id="bus-cards-container" class="space-y-4"></div>
                        
                        <!-- AI Copilot Section -->
                        <div class="mt-8 pt-6 border-t border-gray-200">
                            <div class="flex items-center gap-2 mb-3">
                                <i data-lucide="sparkles" class="w-5 h-5 text-purple-600"></i>
                                <h4 class="font-bold text-gray-800">Ask SmartBus AI</h4>
                            </div>
                            <div class="flex gap-2">
                                <input id="ai-input" type="text" placeholder="e.g., I have a heavy bag, which bus is best?" class="flex-1 border border-gray-300 rounded-lg px-4 py-2 text-sm focus:ring-2 focus:ring-purple-200 outline-none">
                                <button id="ai-btn" class="bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed">
                                    <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </button>
                            </div>
                            <div id="ai-response" class="hidden mt-3 p-3 bg-purple-50 text-purple-900 text-sm rounded-lg border border-purple-100 font-medium"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 7Ô∏è‚É£ Impact Section -->
    <section id="impact" class="py-24 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Why It Matters</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-10">
                    <div class="p-8 rounded-2xl bg-blue-50 border border-blue-100 text-center transform hover:-translate-y-1 transition-transform">
                        <div class="text-4xl font-bold text-blue-600 mb-2">20-40m</div>
                        <div class="text-lg font-semibold text-gray-900 mb-2">Saved Daily</div>
                        <p class="text-sm text-gray-600">Commuters save valuable time by minimizing wait times at stops.</p>
                    </div>

                    <div class="p-8 rounded-2xl bg-green-50 border border-green-100 text-center transform hover:-translate-y-1 transition-transform">
                        <div class="text-4xl font-bold text-green-600 mb-2">+35%</div>
                        <div class="text-lg font-semibold text-gray-900 mb-2">Public Transport</div>
                        <p class="text-sm text-gray-600">Reliability encourages more people to ditch cars for buses.</p>
                    </div>

                    <div class="p-8 rounded-2xl bg-purple-50 border border-purple-100 text-center transform hover:-translate-y-1 transition-transform">
                        <div class="text-4xl font-bold text-purple-600 mb-2">Eco</div>
                        <div class="text-lg font-semibold text-gray-900 mb-2">Cleaner Cities</div>
                        <p class="text-sm text-gray-600">Reduced congestion leads to lower carbon emissions.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 8Ô∏è‚É£ Footer -->
    <footer id="contact" class="bg-gray-900 text-white py-12 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                <div class="flex items-center gap-2 mb-4 md:mb-0">
                    <i data-lucide="bus" class="w-6 h-6 text-blue-400"></i>
                    <span class="text-xl font-bold">SmartBus Buddy</span>
                </div>
                <div class="text-gray-400 text-sm text-center md:text-right">
                    <p>Built by students for Smart Cities & Infrastructure Ideathon</p>
                    <p class="mt-1">smartbusbuddy@prototype.com</p>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 flex flex-col items-center">
                <p class="text-gray-500 text-sm mb-2">We make public transport smarter ‚Äî one bus stop at a time.</p>
                <div class="flex items-center text-gray-600 text-xs mt-2">
                    <span>Made with</span>
                    <i data-lucide="heart" class="w-3 h-3 mx-1 text-red-500 fill-current"></i>
                    <span>by Students</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Logic Script -->
    <script type="module">
        import { GoogleGenAI } from "@google/genai";

        // Initialize Lucide Icons
        lucide.createIcons();

        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        
        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Close mobile menu when clicking a link
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // --- Demo Logic ---

        const mockBuses = {
            'College': [
                { id: '1', routeNumber: '402', destination: 'City College', eta: 4, crowd: 'Low', hasAC: true, color: 'green' },
                { id: '2', routeNumber: '118', destination: 'City College', eta: 12, crowd: 'Medium', hasAC: false, color: 'yellow' },
                { id: '3', routeNumber: '22X', destination: 'City College (Exp)', eta: 15, crowd: 'High', hasAC: true, color: 'red' },
            ],
            'Office': [
                { id: '4', routeNumber: '500', destination: 'Tech Park', eta: 2, crowd: 'High', hasAC: true, color: 'red' },
                { id: '5', routeNumber: '505', destination: 'Tech Park', eta: 9, crowd: 'Low', hasAC: true, color: 'green' },
            ],
            'Market': [
                { id: '6', routeNumber: '10A', destination: 'Central Market', eta: 6, crowd: 'Medium', hasAC: false, color: 'yellow' },
                { id: '7', routeNumber: '12', destination: 'Central Market', eta: 18, crowd: 'Low', hasAC: false, color: 'green' },
            ]
        };

        const findBtn = document.getElementById('find-bus-btn');
        const initialState = document.getElementById('initial-state');
        const loadingState = document.getElementById('loading-state');
        const busList = document.getElementById('bus-list');
        const busCardsContainer = document.getElementById('bus-cards-container');
        const destinationSelect = document.getElementById('destination-select');
        
        let currentResults = [];

        findBtn.addEventListener('click', () => {
            const destination = destinationSelect.value;
            
            // UI State updates
            initialState.classList.add('hidden');
            busList.classList.add('hidden');
            loadingState.classList.remove('hidden');

            // Simulate Network Delay
            setTimeout(() => {
                currentResults = mockBuses[destination];
                renderBuses(currentResults);
                loadingState.classList.add('hidden');
                busList.classList.remove('hidden');
                // Re-init icons for new content
                lucide.createIcons();
            }, 800);
        });

        function renderBuses(buses) {
            busCardsContainer.innerHTML = '';
            buses.forEach((bus, index) => {
                const isBest = index === 0;
                const crowdColorClass = bus.color === 'green' ? 'text-green-600 bg-green-100' : 
                                      bus.color === 'yellow' ? 'text-yellow-600 bg-yellow-100' : 'text-red-600 bg-red-100';
                
                const card = document.createElement('div');
                card.className = `relative bg-white p-5 rounded-xl shadow-sm border-l-4 transition-all hover:shadow-md ${isBest ? 'border-l-green-500 ring-1 ring-green-100' : 'border-l-gray-300'}`;
                
                card.innerHTML = `
                    ${isBest ? '<span class="absolute top-3 right-3 bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full font-bold">Best Option</span>' : ''}
                    <div class="flex justify-between items-center mb-3">
                        <div class="flex items-center gap-3">
                            <div class="bg-gray-800 text-white px-3 py-1 rounded-md font-bold text-lg">${bus.routeNumber}</div>
                            <div class="text-sm text-gray-600 font-medium">${bus.destination}</div>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 mt-2">
                        <div class="bg-blue-50 rounded-lg p-2 text-center">
                            <div class="text-xs text-blue-600 uppercase font-bold mb-1">ETA</div>
                            <div class="font-bold text-gray-900 flex items-center justify-center gap-1">
                                <i data-lucide="clock" class="w-3 h-3"></i> ${bus.eta} min
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-2 text-center">
                            <div class="text-xs text-gray-500 uppercase font-bold mb-1">Crowd</div>
                            <div class="font-bold text-xs px-2 py-0.5 rounded-full inline-flex items-center gap-1 ${crowdColorClass}">
                                <i data-lucide="users" class="w-3 h-3"></i> ${bus.crowd}
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-2 text-center">
                            <div class="text-xs text-gray-500 uppercase font-bold mb-1">Status</div>
                            <div class="font-bold text-gray-900 text-sm">${bus.eta < 5 ? 'On Time' : 'Delayed'}</div>
                        </div>
                    </div>
                `;
                busCardsContainer.appendChild(card);
            });
        }

        // --- AI Integration ---

        const aiBtn = document.getElementById('ai-btn');
        const aiInput = document.getElementById('ai-input');
        const aiResponse = document.getElementById('ai-response');

        aiBtn.addEventListener('click', async () => {
            const query = aiInput.value.trim();
            if (!query) return;

            // Loading state
            aiBtn.disabled = true;
            aiBtn.innerHTML = '<div class="loader"></div>';
            aiResponse.classList.add('hidden');

            try {
                // Initialize Gemini
                // NOTE: In a real production build, use a backend proxy. 
                // For this prototype, we rely on the environment variable injection.
                const apiKey = process.env.API_KEY; 
                const ai = new GoogleGenAI({ apiKey });

                const busContext = JSON.stringify(currentResults, null, 2);
                const systemInstruction = `
                    You are SmartBus Buddy, an AI commute assistant.
                    Analyze the provided JSON bus data and the user's question.
                    Goal: Provide a helpful, brief recommendation (max 2 sentences).
                    Data: ${busContext}
                `;

                const response = await ai.models.generateContent({
                    model: 'gemini-2.5-flash',
                    contents: query,
                    config: {
                        systemInstruction: systemInstruction,
                    }
                });

                aiResponse.textContent = response.text;
                aiResponse.classList.remove('hidden');
            } catch (error) {
                console.error("AI Error:", error);
                aiResponse.textContent = "AI Copilot is offline (Check API Key).";
                aiResponse.classList.remove('hidden');
            } finally {
                aiBtn.disabled = false;
                aiBtn.innerHTML = '<i data-lucide="arrow-right" class="w-4 h-4"></i>';
                lucide.createIcons();
            }
        });

        // Allow 'Enter' key for AI
        aiInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') aiBtn.click();
        });

    </script>
</body>
</html>
